jQuery(document).ready(function(a){var e,n,t,o,i;function s(e){var n=a("<button />",{class:"dropdown-toggle","aria-expanded":!1}).append(a("<span />",{class:"screen-reader-text",text:MagazinePlusScreenReaderText.expand.expand}));e.find(".menu-item-has-children > a, .page_item_has_children > a").after(n),e.find(".current-menu-ancestor > button").addClass("toggled-on"),e.find(".current-menu-ancestor > .sub-menu").addClass("toggled-on"),e.find(".menu-item-has-children, .page_item_has_children").attr("aria-haspopup","true"),e.find(".dropdown-toggle").click(function(e){var n=a(this),t=n.find(".screen-reader-text");e.preventDefault(),n.toggleClass("toggled-on"),n.attr("aria-expanded","false"===n.attr("aria-expanded")?"true":"false"),t.text(t.text()===MagazinePlusScreenReaderText.expand.expand?MagazinePlusScreenReaderText.expand.collapse:MagazinePlusScreenReaderText.expand.expand)})}function l(){910<=window.innerWidth?(a(document.body).on("touchstart.magazinePlus",function(e){a(e.target).closest(".main-navigation li").length||a(".main-navigation li").removeClass("focus")}),t.find(".menu-item-has-children > a, .page_item_has_children > a").on("touchstart.magazinePlus",function(e){var n=a(this).parent("li");n.hasClass("focus")||(e.preventDefault(),n.toggleClass("focus"),n.siblings(".focus").removeClass("focus"))})):t.find(".menu-item-has-children > a, .page_item_has_children > a").unbind("touchstart.magazinePlus")}function u(){910<=window.innerWidth?(a(document.body).on("touchstart.magazinePlus",function(e){a(e.target).closest(".top-navigation li").length||a(".top-navigation li").removeClass("focus")}),topNavigation.find(".menu-item-has-children > a, .page_item_has_children > a").on("touchstart.magazinePlus",function(e){var n=a(this).parent("li");n.hasClass("focus")||(e.preventDefault(),n.toggleClass("focus"),n.siblings(".focus").removeClass("focus"))})):topNavigation.find(".menu-item-has-children > a, .page_item_has_children > a").unbind("touchstart.magazinePlus")}s(a(".main-navigation")),s(a(".top-navigation")),e=a("#main-nav"),n=e.find(".menu-toggle"),t=e.find("#site-navigation"),topNav=a("#top-nav"),topMenuToggle=topNav.find(".menu-toggle"),topNavigation=topNav.find(".top-navigation"),o=0,n.length&&(n.on("click.magazinePlus",function(){a(this).add(t).attr("aria-expanded","false"===a(this).add(t).attr("aria-expanded")?"true":"false")}),n.add(t).attr("aria-expanded","false"),n.on("click.magazinePlus",function(){var e=a(this).parents(".wrap-menu-content");a(".menu-toggle").not(this).removeClass("selected"),a(".wrap-menu-content").not(e).removeClass("is-open"),a(this).toggleClass("selected"),a(e).toggleClass("is-open");var n=a(e).hasClass("is-open");n&&!jQuery("body").hasClass("menu-open")?(0===o&&(o=a("body").scrollTop()),a("body").addClass("menu-open")):n||(a("body").removeClass("menu-open"),a("body").scrollTop(o),o=0),a(".wrap-menu-content").toggle("slow"),a("#site-navigation").toggleClass("toggled-on")}),a(document).on("click touchstart",function(){a("body").removeClass("menu-open"),a(".menu-toggle").removeClass("selected"),a(".wrap-menu-content").removeClass("is-open")}),a(".site-header-menu,.menu-toggle, .dropdown-toggle, .search-field, #site-navigation, #social-search-wrapper, #social-navigation .search-submit").on("click touchstart",function(e){e.stopPropagation()})),i=0,topMenuToggle.length&&(topMenuToggle.on("click.magazinePlus",function(){a(this).add(topNavigation).attr("aria-expanded","false"===a(this).add(topNavigation).attr("aria-expanded")?"true":"false")}),topMenuToggle.add(topNavigation).attr("aria-expanded","false"),topMenuToggle.on("click.magazinePlus",function(){var e=a(this).parents(".menu");a("#top-nav .menu-toggle").not(this).removeClass("selected"),a("#top-nav .menu").not(e).removeClass("is-open"),a(this).toggleClass("selected"),a(e).toggleClass("is-open");var n=a(e).hasClass("is-open");n&&!jQuery("body").hasClass("top-menu-open")?(0===i&&(i=a("body").scrollTop()),a("body").addClass("top-menu-open")):n||(a("body").removeClass("top-menu-open"),a("body").scrollTop(i),i=0),a("#top-nav .top-navigation").toggle("slow"),topNavigation.toggleClass("toggled-on")}),a(document).on("click touchstart",function(){a("body").removeClass("top-menu-open"),a("#top-nav .menu-toggle").removeClass("selected"),a("#top-nav .menu").removeClass("is-open")}),a("#top-nav .menu-toggle").on("click touchstart",function(e){e.stopPropagation()})),t.length&&t.children().length&&("ontouchstart"in window&&(a(window).on("resize.magazinePlus",l),l()),t.find("a").on("focus.magazinePlus blur.magazinePlus",function(){a(this).parents(".menu-item").toggleClass("focus")}),a(".main-navigation button.dropdown-toggle").click(function(){a(this).toggleClass("active"),a(this).parent().find(".children, .sub-menu").first().toggleClass("toggled-on")})),topNavigation.length&&topNavigation.children().length&&("ontouchstart"in window&&(a(window).on("resize.magazinePlus",u),u()),topNavigation.find("a").on("focus.magazinePlus blur.magazinePlus",function(){a(this).parents(".menu-item").toggleClass("focus")}),a(".top-navigation button.dropdown-toggle").click(function(){a(this).toggleClass("active"),a(this).parent().find(".children, .sub-menu").first().toggleClass("toggled-on")})),a(document).ready(function(){a(document.body),a(window).on("load.educationsoul resize.educationsoul",function(){window.innerWidth<768&&(a("#site-navigation .wrap-menu-content").on("focusout",function(){var e=a(this);setTimeout(function(){e.find(":focus").length||a("#site-navigation .menu-toggle").trigger("click")},0)}),a("#top-nav .menu").on("focusout",function(){var e=a(this);setTimeout(function(){e.find(":focus").length||a("#top-nav .menu-toggle").trigger("click")},0)}))})})});
